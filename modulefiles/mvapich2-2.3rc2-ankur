#%Module 1.0
#
#  MVAPICH module for use with 'environment-modules' package:
#  I built this!
# 

# Only allow one mpi module to be loaded at a time
conflict mvapich2
conflict mpich2-intel
conflict mpich2-local
conflict mvapich2-1.6
conflict mvapich2-1.7
conflict openmpi
conflict mpi/mpich-3.0-x86_64
conflict mpi/mpich-3.2-x86_64
conflict mpi/mpich-x86_64
conflict mpi/openmpi-x86_64

setenv        MPI_BIN       /beegfs/general/asinha/software/mvapich2-2.3rc2/bin
setenv        MPI_INCLUDE   /beegfs/general/asinha/software/mvapich2-2.3rc2/include/
setenv        MPI_LIB       /beegfs/general/asinha/software/mvapich2-2.3rc2/lib
setenv        MPI_MAN       /beegfs/general/asinha/software/mvapich2-2.3rc2/share/man
setenv        MPI_COMPILER  mvapich2-2.3rc2
setenv        MPI_HOME      /beegfs/general/asinha/software/mvapich2-2.3rc2/
prepend-path  PATH          /beegfs/general/asinha/software/mvapich2-2.3rc2/bin
prepend-path  LD_LIBRARY_PATH /beegfs/general/asinha/software/mvapich2-2.3rc2/lib
prepend-path  MANPATH       :/beegfs/general/asinha/software/mvapich2-2.3rc2/share/man
prepend-path  PKG_CONFIG_PATH /beegfs/general/asinha/software/mvapich2-2.3rc2/lib/pkgconfig

setenv MV2_ENABLE_AFFINITY 0
setenv MV2_SHOW_CPU_BINDING 1

# May be needed
# setenv        LD_PRELOAD       /beegfs/general/asinha/software/mvapich2-2.3rc2/lib/libmpi.so
